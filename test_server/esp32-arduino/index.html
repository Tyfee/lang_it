<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>lang_it</title>
<style>
body{font-family:sans-serif;background:#f1f1f1;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}
#c{background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.2);width:300px}
select,textarea{width:100%;margin:5px 0;padding:8px;font-size:14px;border-radius:4px;border:1px solid #ccc;box-sizing:border-box}
#o{margin-top:10px;padding:8px;background:#f7f7f7;border-radius:4px;min-height:40px;white-space:pre-wrap}
</style>
</head>
<body>
<div id="c">
<select id="lang"><option value="pt_en">PT→EN</option><option value="en_ja">EN→JA</option><option value="pt_ja">PT→JA</option></select>
<textarea id="txt" placeholder="Enter text..."></textarea>
<div id="o"></div>
<script>
let t;
const txt=document.getElementById('txt'),lang=document.getElementById('lang'),out=document.getElementById('o');
async function tr(){if(!txt.value)return;const r=await fetch(`/translate/${lang.value}`,{method:'POST',body:txt.value});const j=await r.json();out.textContent=j.translation;}
txt.addEventListener('input',()=>{clearTimeout(t);t=setTimeout(tr,300)});lang.addEventListener('change',tr);
</script>
</div>
</body>
</html>
